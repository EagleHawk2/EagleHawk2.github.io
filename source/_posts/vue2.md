---
title: 柱状图
date: 2023-07-01 13:45:07
tags:
categories: Echarts
---
## 📊Echarts柱状图

### 基础柱状图

柱状图（或称条形图）是一种通过柱形的长度来表现数据大小的一种常用图表类型。

设置柱状图的方式，是将 `series` 的 `type` 设为 `'bar'`。

**样式:**

```
option = {
  xAxis: {
    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
  },
  yAxis: {},
  series: [
    {
      type: 'bar',
      data: [23, 24, 18, 25, 27, 28, 25]
    }
  ]
};
```

> 图表示例
>
> ![bar](bar.png)
>
> 在这个例子中，横坐标是类目型的，因此需要在 `xAxis` 中指定对应的值；而纵坐标是数值型的，可以根据 `series` 中的 `data`，自动生成对应的坐标范围。

---

#### 多系列柱状图

**样式**:

```
option = {
  xAxis: {
    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
  },
  yAxis: {},
  series: [
    {
      type: 'bar',
      data: [23, 24, 18, 25, 27, 28, 25]
    },
    {
      type: 'bar',
      data: [26, 24, 18, 22, 23, 20, 27]
    }
  ]
};
```

> 图表示例
>
> ![bar1](bar1.png)
>
> 我们可以用一个系列表示一组相关的数据，如果需要实现多系列的柱状图，只需要在 `series` 多添加一项就可以了

---

#### 基础柱状图样式

> 柱状图的样式通过 `series.itemStyle`来进行设置
>
> |        属性        |         值         |                                                                          用法                                                                          |
> | :----------------: | :-----------------: | :-----------------------------------------------------------------------------------------------------------------------------------------------------: |
> |       color       | auto/rgb/rgba/#fff |                                                                        柱条颜色                                                                        |
> |    borderColor    |   /rgb/rgbba/#fff   |                                                                      柱条描边颜色                                                                      |
> |    borderWidth    |    auto/inherit    | 当其值为 `"auto"` 时，如果系列有 `borderWidth` 取 2，如果系列没有 `borderWidth` 则取 0。当其值为 `"inherit"` 时，始终取系列的 `borderWidth`。 |
> |     borderType     | solid/dashed/dotted |                                                             柱条描边类型：实现/虚线/短虚线                                                             |
> |  barBorderRadius  | [Number]/[5,5,0,0] |                                                   圆角半径，单位px，支持传入数组分别指定 4 个圆角半径                                                   |
> |      opacity      |          1          |                                                  图形透明度，支持从 0 到 1 的数字，为 0 时不绘制该图形                                                  |
> |    `barWidth`    |         20%         |                                                                        柱条宽度                                                                        |
> |     `barGap`     |         20%         |                                                                       柱条间间距                                                                       |
> | `barCategoryGap` |         40%         |                                                                    柱条类目轴间间距                                                                    |
> |  backgroundStyle  |    rgb/rgba/#fff    |                                                                       柱条背景色                                                                       |

---

### 堆叠柱状图

有时候，我们不仅希望知道不同系列各自的数值，还希望知道它们之和的变化，这时候通常使用堆叠柱状图来表现。顾名思义，堆叠柱状图就是一个系列的数值“堆叠”在另一个系列上，因而从他们的高度总和就能表达总量的变化。

使用 EChart 实现堆叠柱状图的方法非常简单，只需要给一个系列的 `stack` 值设置一个字符串类型的值，这一个值表示该系列堆叠的类别。也就是说，拥有同样 `stack` 值的系列将堆叠在一组。

**样式:**

```
option = {
  xAxis: {
    data: ['A', 'B', 'C', 'D', 'E']
  },
  yAxis: {},
  series: [
    {
      data: [10, 22, 28, 43, 49],
      type: 'bar',
      stack: 'x'
    },
    {
      data: [5, 4, 3, 5, 10],
      type: 'bar',
      stack: 'x'
    }
  ]
};
```

> 图表示例
>
> ![bar2](bar2.png)
>
> 在这个例子中，第二个系列所在的位置是在第一个系列的位置的基础上，上升了第二个系列数值对应的高度。因此，从第二个系列的位置，就能看出这两者总和的变化趋势。
>
>> `stack` 的取值用来表明哪些系列将被堆叠在一起，理论上只要取值相同即可，具体的取值并没有什么区别。但在实际的应用中，我们建议使用一些有意义的字符串方便阅读。
>>
>> 比如，在一个统计男女人数的图中，有四个系列，“成年男性”和“男孩”系列需要进行堆叠，“成年女性”和“女孩”系列需要堆叠。这时，这两组的的 `stack` 值就建议分别设为 `'男'` 和 `'女'`。虽然使用 `'a'` 和 `'b'` 这样没有意义的字符串也能实现同样的效果，但是代码的可阅读性就差了。
>>
>> ![ps](ps.png)
>>
>
> 以上。

---
